# List of all command needed to flash a HiKey 620 4GB device
pre_clone:
        - cmd: mkdir -p /tmp/test

clone:
        - cmd: cd /tmp/test
        - cmd: /home/optee/bin/repo init -u https://github.com/jbech-linaro/manifest.git -b test
          exp: 'repo has been initialized in'
          timeout: 20
        - cmd: repo sync -j3
          exp: 'Fetching projects'
          timeout: 30

post_clone:

pre_build:

build:
        - cmd: export PATH=:/home/optee/devel/reference/toolchains/aarch32/bin:$PATH
        - cmd: cd /tmp/test/optee_client
          exp: 'HAB '
        - cmd: mkdir -p build
        - cmd: cd build
          exp: 'HAB '
        - cmd: 'cmake -DCMAKE_C_COMPILER="arm-linux-gnueabihf-gcc" -DCMAKE_INSTALL_PREFIX="/tmp/optee_client/install" ..'
          exp: 'Build files have been written to'
          timeout: 10
        - cmd: make
          exp: 'Built target tee-supplicant'

post_build:
        - cmd: cd /tmp/test/optee_client/build
          exp: 'HAB '
        - cmd: make install
          exp: 'Installing: /tmp/optee_client/install/include/teec_trace.h'

pre_flash:

flash:

post_flash:

pre_boot:

boot:

post_boot:

pre_test:

test:

post_test:
